"use strict";angular.module("fandom.errorHandler",[]).constant("httpErrors",{0:"Sorry, The server is unreachable.",404:"Sorry, The requested data or service could not be found.",500:"Sorry, Unknown errors at the server.",401:"Sorry, The authorization is failed"}).provider("errorHandler",function(){function r(r,n,e){return angular.extend(function(){return r.get("errorHandler").call(e,n,arguments)},e)}var n=["$delegate","$injector",function(n,e){for(var t in n)angular.isFunction(n[t])&&(n[t]=r(e,n,n[t]));return n}];return{decorate:function(r,e){angular.forEach(e,function(e){r.decorator(e,n)})},$get:function(r,n){var e={errors:[],funcError:function(t,o){o&&!angular.isUndefined(o.status)?o=n[o.status]:o&&o.message&&(o=o.message),angular.isString(o)||(o="An unknown error occurred."),t&&t.description&&(o="Unable to "+t.description+". "+o),r.info("Caught error: "+o),e.errors.push(o)},call:function(n,t,o){r.debug("Function called: ",n.name||n);var a;try{a=n.apply(t,o)}catch(r){throw e.funcError(n,r),r}var u=a&&a.$promise||a;return u&&angular.isFunction(u.then)&&angular.isFunction(u.catch)&&e.async(n,u),a},async:function(r,n){return n.catch(function(n){e.funcError(r,n)}),n}};return e}}});