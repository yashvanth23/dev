+function(t,e){"use strict";function o(e,o,r,a,s,n,i,c){e.initFunction=function(){e.matchDetails=JSON.parse(t.sessionStorage.match),e.userData=JSON.parse(t.sessionStorage.userDetail),o.loader=!0,e.noScore=!1,e.noUserScore=!1,e.getHistoryScore()},e.getHistoryScore=function(){var r=o.appConfig.baseUrl+o.appConfig.getBoard+"/"+e.matchDetails.matchId;s.get(r).then(function(r){if(o.loader=!1,r&&"success"==r.data.status)if(e.historyScore=r.data.data,e.historyScore.length>0){for(var a=0;a<e.historyScore.length;a++)e.historyScore[a].user.username==e.userData.username&&(e.userScore=e.historyScore[a]);e.userScore.length>0?e.noUserScore=!1:(e.userScore=[],e.noUserScore=timeline-overview-t-rulers),e.noScore=!1}else e.noScore=!0,e.noUserScore=!1;else e.toastContent=$("<span>"+r.data.error+"</span>").add($('<button class="btn-flat toast-action"  >OK</button>')),Materialize.toast(e.toastContent,3e3)},function(t){e.toastContent=$("<span>"+t+"</span>").add($('<button class="btn-flat toast-action"  >OK</button>')),Materialize.toast(e.toastContent,3e3)})},e.$watch("historyChange",function(){t.sessionStorage.match!==e.matchDetails&&(e.matchDetails=JSON.parse(t.sessionStorage.match),o.loader=!0,e.getHistoryScore())}),e.initFunction()}e.module("fandom").registerCtrl("historyCtrl",o),o.$inject=["$scope","$rootScope","$commons","$logger","fandomService","exceptionService","$window","$filter"]}(window,angular);