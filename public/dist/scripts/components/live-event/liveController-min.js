+function(e,t){"use strict";function o(o,r,a,s,n,i,c,l){o.initFunction=function(){o.matchDetails=JSON.parse(e.sessionStorage.match),o.userData=JSON.parse(e.sessionStorage.userDetail),r.loader=!0,o.noScore=!1,o.noUserScore=!1,o.getLiveScore()},o.getLiveScore=function(){var a=r.appConfig.baseUrl+r.appConfig.getBoard+"/"+o.matchDetails.matchId;n.get(a).then(function(a){if(r.loader=!1,a&&"success"==a.data.status){if(o.liveScore=a.data.data,o.liveScore.length>0){for(var s=0;s<o.liveScore.length;s++)o.liveScore[s].user.username==o.userData.username&&(o.userScore=o.liveScore[s]);o.userScore.length>0?o.noUserScore=!1:(o.userScore=[],o.noUserScore=timeline-overview-e-rulers),o.noScore=!1}else o.noScore=!0,o.noUserScore=!1;t.element(".float-refresh").hasClass("refresher")&&t.element(".float-refresh").removeClass("refresher")}else o.toastContent=$("<span>"+a.data.error+"</span>").add($('<button class="btn-flat toast-action"  >OK</button>')),Materialize.toast(o.toastContent,3e3)},function(e){o.toastContent=$("<span>"+e+"</span>").add($('<button class="btn-flat toast-action"  >OK</button>')),Materialize.toast(o.toastContent,3e3)})},o.refreshLive=function(){t.element(".float-refresh").addClass("refresher"),o.getLiveScore()},o.$watch("liveChange",function(){e.sessionStorage.match!==o.matchDetails&&(o.matchDetails=JSON.parse(e.sessionStorage.match),r.loader=!0,o.getLiveScore())}),o.initFunction()}t.module("fandom").registerCtrl("liveCtrl",o),o.$inject=["$scope","$rootScope","$commons","$logger","fandomService","exceptionService","$window","$filter"]}(window,angular);