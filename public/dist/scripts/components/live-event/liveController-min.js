+function(e,t){"use strict";function o(o,r,a,s,n,i,c,l){o.initFunction=function(){o.matchDetails=JSON.parse(e.sessionStorage.match),o.userData=JSON.parse(e.sessionStorage.userDetail),r.loader=!0,o.noScore=!1,o.noUserScore=!1,o.userScore=[],o.getLiveScore()},o.getLiveScore=function(){var e=r.appConfig.baseUrl+r.appConfig.getBoard+"/"+o.matchDetails.matchId;n.get(e).then(function(e){if(r.loader=!1,e&&"success"==e.data.status){if(o.liveScore=e.data.data,o.liveScore.length>0){for(var a=0;a<o.liveScore.length;a++)o.liveScore[a].user.username==o.userData.username&&o.userScore.push(o.liveScore[a]);o.userScore.length>0?o.noUserScore=!1:(o.userScore=[],o.noUserScore=!0),o.noScore=!1}else o.noScore=!0,o.noUserScore=!1;t.element(".float-refresh").hasClass("refresher")&&t.element(".float-refresh").removeClass("refresher")}else o.toastContent=$("<span>"+e.data.error+"</span>").add($('<button class="btn-flat toast-action"  >OK</button>')),Materialize.toast(o.toastContent,3e3)},function(e){o.toastContent=$("<span>"+e+"</span>").add($('<button class="btn-flat toast-action"  >OK</button>')),Materialize.toast(o.toastContent,3e3)})},o.refreshLive=function(){t.element(".float-refresh").addClass("refresher"),o.getLiveScore()},o.$watch("liveChange",function(){e.sessionStorage.match!==o.matchDetails&&(o.matchDetails=JSON.parse(e.sessionStorage.match),r.loader=!0,o.getLiveScore())}),o.initFunction()}t.module("fantumn").registerCtrl("liveCtrl",o),o.$inject=["$scope","$rootScope","$commons","$logger","fantumnService","exceptionService","$window","$filter"]}(window,angular);