+function(a,t){"use strict";function n(n,e,o,s,i,r,c,l,g){void 0!=a.sessionStorage.userDetail&&""!=a.sessionStorage.userDetail?(n.initFunction=function(){n.profil={name:"",lastname:""},n.backdrop=!1,n.userData=JSON.parse(a.sessionStorage.userDetail);var t=e.appConfig.baseUrl+e.appConfig.profile+"/"+n.userData._id;i.get(t).then(function(a){a&&"success"==a.data.status?(n.profile=a.data.data,console.log(n.profile),n.profil.name=n.profile.firstName,n.profil.lastname=n.profile.lastName):(n.toastContent=a.data.error,Materialize.toast(n.toastContent,1500,"rounded"))}),n.getPLayerHistory()},n.rank=function(){n.set1="",n.set="fantumn";var a=e.appConfig.baseUrl+e.appConfig.globalrank;i.get(a).then(function(a){if(a&&"success"==a.data.status){n.ranking=a.data.data;for(i=0;i<n.ranking.length;++i)for(var e=i+1;e<n.ranking.length;++e)if(n.ranking[i].userPoints<n.ranking[e].userPoints){var o=n.ranking[i];n.ranking[i]=n.ranking[e],n.ranking[e]=o}console.log(n.ranking);for(var s=1,i=0;i<n.ranking.length;i++)n.ranking[i].rank=s,s++;console.log(n.ranking),n.backdrop=!0,t.element(".momo1").css({opacity:"1",display:"block"})}})},n.matchcard=function(){n.set="",n.set1="fantumn";var a=e.appConfig.baseUrl+e.appConfig.matchcard+"/"+n.userData._id;i.get(a).then(function(a){a&&"success"==a.data.status&&(n.usermatchcard=a.data.data,n.backdrop=!0,t.element(".momo").css({opacity:"1",display:"block"}))})},n.disable=function(){t.element(".momo1").css({opacity:"0",display:"none"}),t.element(".momo").css({opacity:"0",display:"none"}),n.backdrop=!1},n.getPLayerHistory=function(){var a=e.appConfig.baseUrl+e.appConfig.getLeaderBoard+"/"+n.userData.username;i.get(a).then(function(a){a&&"success"==a.data.status?(n.profile=a.data.data,console.log(n.profile)):(n.toastContent=$("<span>"+a.data.error+"</span>").add($('<button class="btn-flat toast-action"  >OK</button>')),Materialize.toast(n.toastContent,3e3))},function(a){n.toastContent=$("<span>"+a+"</span>").add($('<button class="btn-flat toast-action"  >OK</button>')),Materialize.toast(n.toastContent,3e3)})},n.redirectSetting=function(){a.sessionStorage.pageName="setting",a.sessionStorage.pagename="setting",o.navigate("layout.setting","",!1)},n.initFunction()):o.navigate("layout.dashboard","",!1)}t.module("fantumn").registerCtrl("profileCtrl",n),n.$inject=["$scope","$rootScope","$commons","$logger","fantumnService","exceptionService","$window","$filter"]}(window,angular);